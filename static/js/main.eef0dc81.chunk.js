(this.webpackJsonphorizon_task=this.webpackJsonphorizon_task||[]).push([[0],{24:function(t,e,i){"use strict";i.r(e);var n=i(16),s=i.n(n),r=i(14),a=(i(17),i(13)),o=i(7),c=i.n(o),l=i(8),u=i(11),h=i(3),d=i(4),p=i(1),x=i(6),m=i(5),b=i(2),v=i.n(b),j=i(0),g=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){return Object(h.a)(this,i),e.call(this,t)}return Object(d.a)(i,[{key:"render",value:function(){return Object(j.jsx)("div",{style:{borderWidth:"25px",border:"solid black",margin:"5px",backgroundColor:this.props.backgroundColor?this.props.backgroundColor:"white",width:"40px",height:"40px",alignItems:"center",justifyContent:"center",display:"flex",fontSize:"25px"},children:this.props.heldValue})}}]),i}(v.a.Component),y=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).delayedNumber=n.delayedNumber.bind(Object(p.a)(n)),n.state={index:n.props.index-1},t.delayNumberReveal&&n.delayedNumber(n.props.timeDelay),n}return Object(d.a)(i,[{key:"delayedNumber",value:function(t){var e=this;setTimeout((function(){e.setState({index:e.state.index+1})}),t)}},{key:"render",value:function(){for(var t=this.state.index+1,e=[],i=0;i<this.props.gameLength;i++){var n={};i<t&&(n.heldValue=this.props.values[i]),i===t&&this.props.valid&&(n.backgroundColor="lawngreen"),e.push(Object(j.jsx)(g,{backgroundColor:n.backgroundColor,heldValue:n.heldValue},i))}return Object(j.jsx)("div",{style:{border:"solid ".concat(this.props.machineColor?this.props.machineColor:"black"," 5px")},children:e})}}]),i}(v.a.Component),f=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){return Object(h.a)(this,i),e.call(this,t)}return Object(d.a)(i,[{key:"render",value:function(){return Object(j.jsx)("div",{style:{position:"absolute",top:"calc(90vh + -100px)",width:"175px"},children:Object(j.jsxs)("div",{style:{position:"absolute",left:"30px",margin:"5px",padding:"5px",border:"solid ".concat(this.props.borderColor," 2px")},children:[" Key: ",this.props.machineKey]})})}}]),i}(v.a.Component),O=(i(9),function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).delayAnimation=n.delayAnimation.bind(Object(p.a)(n)),t.delayAnimation&&n.delayAnimation(n.props.timeDelay),n.state={animate:n.props.animate},n}return Object(d.a)(i,[{key:"delayAnimation",value:function(t){var e=this;setTimeout((function(){e.setState({animate:!0})}),t)}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"lever_ball",style:{width:"25px",height:"25px",borderRadius:"50%",backgroundColor:this.props.backgroundColor,animation:this.state.animate?"ball_clink":"",animationDuration:this.state.animate?".5s":""}}),Object(j.jsx)("div",{className:"lever_arm",style:{width:"5px",height:"90px",backgroundColor:this.props.backgroundColor,animation:this.state.animate?"arm_clink":"",animationDuration:this.state.animate?".5s":""}}),Object(j.jsx)("div",{style:{position:"relative",width:25,height:5,backgroundColor:this.props.backgroundColor,top:"25%",left:"0px"}})]})}}]),i}(v.a.Component));function I(t,e){var i=function(){for(var t=0,e=0;0===t;)t=Math.random();for(;0===e;)e=Math.random();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e)}()*t[e].sd+t[e].mu;return i=Math.max(Math.floor(i),1),i=Math.min(i,99)}var w=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){var n;Object(h.a)(this,i),(n=e.call(this,t)).subtrial=-1,n.key_map=function(t){for(var e={},i=0;i<t.length;i++)e[String(t[i].keyBind)]=i;return e}(n.props.machineVars),n.column_map=function(t){for(var e={},i=0;i<t.length;i++)e[String(i)]={mu:t[i].mu,sd:t[i].sd,valid:!1,discovered:[],machineColor:t[i].color,description:t[i].description};return e}(n.props.machineVars),n.key_press=n.key_press.bind(Object(p.a)(n)),n.advance_subtrial=n.advance_subtrial.bind(Object(p.a)(n)),n.process_choice=n.process_choice.bind(Object(p.a)(n)),n.nextTrial=n.nextTrial.bind(Object(p.a)(n)),n.time=Date.now(),n.data={meta_data:n.props,trial_data:[]},n.state={},n.advance_subtrial();for(var s=0;s<n.props.machineVars.length;s++)n.state[String(s)]={valid:n.column_map[String(s)].valid,discovered:[],description:n.column_map[String(s).description]};return n.state.total_points=n.props.total_points,n.state.round_points=0,n.nextPress=!0,n.keyup=!0,n}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("keyup",(function(){return t.keyup=!0})),document.addEventListener("keydown",this.key_press),this.trial_start_time=Date.now()}},{key:"componentWillUnmount",value:function(){var t=this;document.removeEventListener("keyup",(function(){return t.keyup=!0})),document.removeEventListener("keydown",this.key_press)}},{key:"componentDidUpdate",value:function(){this.trial_start_time=Date.now()}},{key:"key_press",value:function(){var t=Object(l.a)(c.a.mark((function t(e){var i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.nextPress&&this.keyup&&(i=Date.now(),this.subtrial<this.props.gameLength&&String(e.key)in this.key_map&&this.column_map[String(this.key_map[e.key])].valid&&this.process_choice(String(this.key_map[String(e.key)]),i));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"process_choice",value:function(t,e){var i=this;this.advance_subtrial();for(var n={},s=null,r=0;r<this.props.machineVars.length;r++)String(r)===t?(s=I(this.column_map,t),this.column_map[String(r)].discovered.push(s)):this.column_map[String(r)].discovered.push("xx"),n[String(r)]={valid:this.column_map[String(r)].valid,discovered:this.column_map[String(r)].discovered};n.last_choice=t,this.subtrial>this.props.force.length&&(n.total_points=this.state.total_points+s,n.round_points=this.state.round_points+s),this.data.trial_data.push({choice:t,value:s,reaction_time:e-this.trial_start_time}),this.setState(n),this.subtrial>=this.props.gameLength&&setTimeout(this.nextTrial,1e3),this.nextPress=!1,this.keyup=!1,setTimeout((function(){return i.nextPress=!0}),200)}},{key:"nextTrial",value:function(){this.props.nextTrial(this.data,this.state.round_points)}},{key:"advance_subtrial",value:function(){if(this.subtrial+=1,this.subtrial<this.props.force.length)for(var t=0;t<this.props.machineVars.length;t++)this.props.force[this.subtrial].includes(t)?this.column_map[String(t)].valid=!0:this.column_map[String(t)].valid=!1;else for(var e=0;e<this.props.machineVars.length;e++)this.column_map[String(e)].valid=!0}},{key:"render",value:function(){for(var t=[],e=null,i=!1,n=0;n<this.props.machineVars.length;n++)e=this.state[String(n)].discovered.length,i=String(n)===this.state.last_choice,t.push(Object(j.jsxs)("div",{style:{left:"calc(50vw + ".concat(150*(2*n-1)-60,"px)"),position:"absolute",top:"100px"},className:"column",children:[Object(j.jsx)("h2",{style:{position:"relative",left:"10px"},children:this.column_map[String(n)].description}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(O,{animate:i,backgroundColor:this.column_map[String(n)].machineColor},"Lever "+String(this.props.trial)+";"+String(this.subtrial)),Object(j.jsx)(y,{index:e,valid:this.state[String(n)].valid,values:this.state[String(n)].discovered,gameLength:this.props.gameLength,machineColor:this.column_map[String(n)].machineColor},"Game Machine "+String(this.props.trial)+";"+String(this.subtrial))]}),Object(j.jsx)(f,{style:{top:"-100px"},borderColor:this.column_map[String(n)].machineColor,machineKey:this.props.machineVars[n].keyBind},"Key Display "+String(this.props.trial)+";"+String(this.subtrial))]},n));return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{textAlign:"center",width:"100%"},children:this.props.trialDescription}),Object(j.jsx)("div",{className:"row",children:t})]})}}]),i}(v.a.Component),k=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).nextInstruction=n.nextInstruction.bind(Object(p.a)(n)),n.key_press=n.key_press.bind(Object(p.a)(n)),n}return Object(d.a)(i,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.key_press)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.key_press)}},{key:"key_press",value:function(t){if(console.log(t.key),"Space"===this.props.nextInstructionKey)var e=" ";else e=this.props.nextInstructionKey;t.key===e&&this.nextInstruction(),t.key===this.props.previousInstructionKey&&this.previousInstruction()}},{key:"nextInstruction",value:function(){this.props.nextInstruction()}},{key:"previousInstruction",value:function(){console.log(this.props.previousJump),this.props.previousInstruction(this.props.previousJump?this.props.previousJump:1)}},{key:"render",value:function(){for(var t=[],e=[],i=0;i<this.props.divs.length;i++)t.push(this.props.divs[i]);return this.props.previousInstructionKey&&e.push(Object(j.jsx)("div",{style:{width:"200px",height:"50px",border:"solid black 5px",textAlign:"center",fontSize:"20px",margin:"5px"},children:"Press ".concat(this.props.previousInstructionKey," to go back")},"previous "+String(i))),this.props.nextInstructionKey&&e.push(Object(j.jsx)("div",{style:{width:"200px",height:"50px",border:"solid black 5px",textAlign:"center",fontSize:"20px",margin:"5px"},children:"Press ".concat(this.props.nextInstructionKey," to continue")},"next "+String(i))),Object(j.jsxs)("div",{children:[t,Object(j.jsx)("div",{style:{display:"flex",flex:"row",position:"fixed",justifyContent:"space-evenly",bottom:"5%",width:"100%"},children:e})]})}}]),i}(v.a.Component),_=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).requestFullScreen=n.requestFullScreen.bind(Object(p.a)(n)),n}return Object(d.a)(i,[{key:"requestFullScreen",value:function(){var t=this.props.docVar,e=t.requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullScreen;e&&e.call(t),this.props.nextInstruction()}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{border:"solid black 5px",marginLeft:"100px",marginRight:"100px",textAlign:"center"},children:"This experiment is best viewed in full screen, click the button below to go fullscreen and enter the experiment!"}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)("button",{className:"fullscreenbutton",style:{top:"150px"},onClick:this.requestFullScreen,children:"Go Fullscreen"})})]})}}]),i}(v.a.Component),C=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){return Object(h.a)(this,i),e.call(this,t)}return Object(d.a)(i,[{key:"render",value:function(){return Object(j.jsx)("h1",{style:{border:"solid black 5px",marginLeft:"100px",marginRight:"100px",textAlign:"center"},children:"The experiment is over! Thank you for taking part in this part of the experiment!"})}}]),i}(v.a.Component);function S(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),n=[t[i],t[e]];t[e]=n[0],t[i]=n[1]}}function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"even",e=["main","main","other","other"],i=["main","main","main","other"],n=["main","other","other","other"];return"even"===t?(S(e),e):"weight_positive"===t?(S(e),i):"weight_negative"===t?(S(e),n):void 0}function L(){for(var t=["even","weight_negative","weight_positive"],e=function(t){for(var e,i=[{}],n=0;n<Object.keys(t).length;n++){for(var s=[],r=0;r<i.length;r++)for(var a=0;a<t[Object.keys(t)[n]].length;a++){var o=(e=i[r],JSON.parse(JSON.stringify(e)));o[Object.keys(t)[n]]=t[Object.keys(t)[n]][a],s.push(o)}i=s}return i}({mu:[40,60],deltaMu:[-30,-20,-12,-8,-4,4,8,12,20,30],sd:[8],mainBandit:[0,1],gameLength:[5,10]}),i=0;i<e.length;i++)e[i].forcedBandit=N(t[Math.floor(3*Math.random())]);return e}var K=function(){var t=function(t){for(var e=[],i=0;i<t.length;i++){var n={machineVars:[],gameLength:null,force:[]},s={},r={};0===t[i].mainBandit?(s.mu=t[i].mu,r.mu=t[i].mu+t[i].deltaMu,n.force=t[i].forcedBandit.map((function(t){return"main"==t?[0]:[1]}))):(s.mu=t[i].mu+t[i].deltaMu,r.mu=t[i].mu,n.force=t[i].forcedBandit.map((function(t){return"main"==t?[1]:[0]}))),s.sd=t[i].sd,r.sd=t[i].sd,s.keyBind="ArrowLeft",r.keyBind="ArrowRight",s.color="red",r.color="blue",s.description="Left Bandit",r.description="Right Bandit",n.gameLength=t[i].gameLength,n.machineVars.push(s),n.machineVars.push(r),n.addedMetaData=t[i],n.trialDescription="Game ".concat(i+1," of ").concat(t.length),e.push(n)}return e}(L());S(t);for(var e=t.length,i=0;i<e;i++)t[i].trialDescription="Game ".concat(i+1," of ").concat(e);return t},A="College_Horizon";function T(t,e,i){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(c.a.mark((function t(e,i,n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://exius.nrdlab.org/WriteKey/createWriteKey",{headers:{"Content-Type":"application/json",authorization:"templateKey:".concat(e,";password:").concat(i)},method:"POST",body:JSON.stringify({metaData:n})});case 3:return s=t.sent,t.next=6,s.json();case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function P(t,e,i){return R.apply(this,arguments)}function R(){return(R=Object(l.a)(c.a.mark((function t(e,i,n){var s,a,o,l,u,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,s=new FormData,a=Object(r.a)(e);try{for(a.s();!(o=a.n()).done;)l=o.value,console.log(l),u=new Blob([l.data],{type:"text/csv;charset=utf-8;"}),s.append(l.endpoint,u,l.fname)}catch(c){a.e(c)}finally{a.f()}return t.next=6,fetch("https://exius.nrdlab.org/Upload",{headers:{authorization:"templateKey:".concat(i,";writeKey:").concat(n)},method:"POST",body:s});case 6:return h=t.sent,t.next=9,h.json();case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}var B=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).password="",n.state={preflightError:!1,preflightFileFail:{},preflightInitiated:!1},n.submitPreflight=n.submitPreflight.bind(Object(p.a)(n)),n.updateInputValue=n.updateInputValue.bind(Object(p.a)(n)),n.getQuery=n.getQuery.bind(Object(p.a)(n)),n.randomIdPreflight=n.randomIdPreflight.bind(Object(p.a)(n)),console.log(n.props),n}return Object(d.a)(i,[{key:"updateInputValue",value:function(t){this.password=t.target.value}},{key:"randomIdPreflight",value:function(){var t=Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.submitPreflight(Math.round(1e4*Math.random()));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"submitPreflight",value:function(){var t=Object(l.a)(c.a.mark((function t(e){var i,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.setState({preflightInitiated:!0}),t.next=4,T(A,this.password,"test_data");case 4:return i=t.sent,t.next=7,P([{endpoint:"HorizonJSON",fname:"Subject_".concat(e,".json"),data:""},{endpoint:"HorizonCSV",fname:"Subject_".concat(e,".csv"),data:""}],A,i.writeKey);case 7:n=t.sent,0===Object.keys(n.failedFiles).length?(this.props.getWriteKey(i.writeKey,e),this.props.nextInstruction()):this.setState({preflightFileFail:n}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("error"),this.setState({preflightError:!0});case 15:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getQuery",value:function(){return Object.fromEntries(Object(u.a)(new URLSearchParams(window.location.search)))}},{key:"render",value:function(){if(!this.state.preflightError&&0===Object.keys(this.state.preflightFileFail).length){var t=this.getQuery(),e=null!=t.pwd?"":"pwd ",i=null!=t.id?"":"id ";if(e+i!=="")return Object(j.jsxs)("div",{children:[" Invalid Essential Query String Parameters :",e+i,". Please contact Skyler Wyly at skylerwyly@email.arizona.edu "]});if(!this.getQuery().pwd)return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{top:"200px",position:"relative",textAlign:"center"},children:"Input Experiment Password Below"}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)("input",{style:{top:"200px",position:"relative",width:"400px",height:"50px",fontSize:"50px"},type:"text",onChange:this.updateInputValue})}),Object(j.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)("button",{className:"fullscreenbutton",style:{width:"200px",height:"400",top:"300px"},onClick:this.randomIdPreflight,children:"Submit"})}),Object(j.jsx)("h1",{style:{width:"100%",top:"400px",textAlign:"center",position:"relative"},children:this.state.preflightInitiated?"Verifying Credentials...":""})]});if(this.password=this.getQuery().pwd,this.state.preflightInitiated)return Object(j.jsx)("h1",{style:{width:"100%",top:"400px",textAlign:"center",position:"relative"},children:"Verifying Credentials..."});this.submitPreflight(this.getQuery().id)}return this.state.preflightError?Object(j.jsx)("div",{children:"Credentials Preflight Failed. Please Contact Skyler Wyly at skylerwyly@email.arizona.edu"}):Object(j.jsxs)("div",{children:["Failed Files: ",this.dataPreflight,". Please Contact Skyler Wyly at skylerwyly@email.arizona.edu"]})}}]),i}(v.a.Component);function M(t,e){var i=function(){for(var t=0,e=0;0===t;)t=Math.random();for(;0===e;)e=Math.random();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e)}()*t[e].sd+t[e].mu;return i=Math.max(Math.floor(i),1),i=Math.min(i,99)}var V=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){var n;Object(h.a)(this,i),(n=e.call(this,t)).subtrial=-1,n.key_map=function(t){for(var e={},i=0;i<t.length;i++)e[String(t[i].keyBind)]=i;return e}(n.props.machineVars),n.column_map=function(t){for(var e={},i=0;i<t.length;i++)e[String(i)]={mu:t[i].mu,sd:t[i].sd,valid:!1,discovered:[],machineColor:t[i].color,description:t[i].description};return e}(n.props.machineVars),n.key_press=n.key_press.bind(Object(p.a)(n)),n.advance_subtrial=n.advance_subtrial.bind(Object(p.a)(n)),n.process_choice=n.process_choice.bind(Object(p.a)(n)),n.nextInstruction=n.nextInstruction.bind(Object(p.a)(n)),n.time=new Date,n.data={meta_data:n.props,trial_data:[]},n.state={},n.advance_subtrial();for(var s=0;s<n.props.machineVars.length;s++)n.state[String(s)]={valid:n.column_map[String(s)].valid,discovered:[],description:n.column_map[String(s).description]};return n.state.total_points=t.total_points,n.state.round_points=0,n.nextPress=!0,n.keyup=!0,n}return Object(d.a)(i,[{key:"componentDidMount",value:function(){var t=this;document.addEventListener("keyup",(function(){return t.keyup=!0})),document.addEventListener("keydown",this.key_press)}},{key:"componentWillUnmount",value:function(){var t=this;document.removeEventListener("keydown",this.key_press),document.removeEventListener("keyup",(function(){return t.keyup=!0}))}},{key:"key_press",value:function(t){if(this.nextPress&&this.keyup&&this.subtrial<this.props.gameLength){var e=new Date;String(t.key)in this.key_map&&this.column_map[String(this.key_map[t.key])].valid&&this.process_choice(String(this.key_map[String(t.key)]),e)}}},{key:"process_choice",value:function(t,e){var i=this;this.advance_subtrial();for(var n={},s=null,r=0;r<this.props.machineVars.length;r++)String(r)===t?(s=M(this.column_map,t),this.column_map[String(r)].discovered.push(s)):this.column_map[String(r)].discovered.push("xx"),n[String(r)]={valid:this.column_map[String(r)].valid,discovered:this.column_map[String(r)].discovered};n.last_choice=t,this.subtrial>this.props.force.length&&(n.total_points=this.state.total_points+s,n.round_points=this.state.round_points+s),this.data.trial_data.push({choice:t,value:s,reaction_time:e.getTime()-this.trial_start_time.getTime()}),this.setState(n),this.subtrial>=this.props.gameLength&&setTimeout(this.nextInstruction,1e3),this.nextPress=!1,this.keyup=!1,setTimeout((function(){return i.nextPress=!0}),200)}},{key:"nextInstruction",value:function(){this.props.nextInstruction()}},{key:"advance_subtrial",value:function(){if(this.subtrial+=1,this.subtrial<this.props.force.length)for(var t=0;t<this.props.machineVars.length;t++)this.props.force[this.subtrial].includes(t)?this.column_map[String(t)].valid=!0:this.column_map[String(t)].valid=!1;else for(var e=0;e<this.props.machineVars.length;e++)this.column_map[String(e)].valid=!0}},{key:"render",value:function(){for(var t=[],e=null,i=!1,n=0;n<this.props.machineVars.length;n++)e=this.state[String(n)].discovered.length,i=String(n)===this.state.last_choice,t.push(Object(j.jsxs)("div",{style:{left:"calc(50vw + ".concat(150*(2*n-1)-60,"px)"),position:"absolute",top:"100px"},className:"column",children:[Object(j.jsx)("h2",{style:{position:"relative",left:"10px"},children:this.column_map[String(n)].description}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(O,{animate:i,backgroundColor:this.column_map[String(n)].machineColor},"Lever "+String(this.props.trial)+";"+String(this.subtrial)),Object(j.jsx)(y,{index:e,valid:this.state[String(n)].valid,values:this.state[String(n)].discovered,gameLength:this.props.gameLength,machineColor:this.column_map[String(n)].machineColor},"Game Machine "+String(this.props.trial)+";"+String(this.subtrial))]}),Object(j.jsx)(f,{style:{top:"-100px"},borderColor:this.column_map[String(n)].machineColor,machineKey:this.props.machineVars[n].keyBind},"Key Display "+String(this.props.trial)+";"+String(this.subtrial))]},n));return this.trial_start_time=new Date,Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:Object(j.jsx)("div",{style:{textAlign:"center",width:"100%"},children:this.props.trialDescription})}),Object(j.jsx)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:t})]})}}]),i}(v.a.Component),H=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){return Object(h.a)(this,i),e.call(this,t)}return Object(d.a)(i,[{key:"render",value:function(){return Object(j.jsxs)("div",{style:{width:this.props.width,height:this.props.height,border:"solid ".concat(this.props.borderColor," 2px")},children:[this.props.description+":",Object(j.jsxs)("div",{style:{display:"flex",flex:"row",justifyContent:"center"},children:[Object(j.jsx)("div",{style:{color:"black"},children:this.props.points+"$"}),Object(j.jsx)("div",{children:"/"}),Object(j.jsx)("div",{children:this.props.totalPoints+"$"})]})]})}}]),i}(v.a.Component);v.a.Component;function E(t){var e=JSON.parse(JSON.stringify(t)),i="";console.log(e);for(var n=0,s=Object.values(e);n<s.length;n++){var r=s[n];i+='"'.concat(r,'",')}return 21==e.length&&(i+=",,,,,,,,,,,,,,,"),i.substring(0,i.length-1)+"\n"}function F(t,e,i){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(c.a.mark((function t(e,i,n){var s,a,o,l,u,h;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,s=new FormData,a=Object(r.a)(e);try{for(a.s();!(o=a.n()).done;)l=o.value,u=new Blob([l.data],{type:"text/csv;charset=utf-8;"}),s.append(l.endpoint,u,l.fname)}catch(c){a.e(c)}finally{a.f()}return t.next=6,fetch("https://exius.nrdlab.org/Upload",{headers:{authorization:"templateKey:".concat(i,";writeKey:").concat(n)},method:"POST",body:s});case 6:return h=t.sent,t.next=9,h.json();case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}var W=function(t){Object(x.a)(i,t);var e=Object(m.a)(i);function i(t){var n;Object(h.a)(this,i),(n=e.call(this,t)).nextTrial=n.nextTrial.bind(Object(p.a)(n)),n.nextInstruction=n.nextInstruction.bind(Object(p.a)(n)),n.previousInstruction=n.previousInstruction.bind(Object(p.a)(n)),n.getWriteKey=n.getWriteKey.bind(Object(p.a)(n)),n.sendDataToExius=n.sendDataToExius.bind(Object(p.a)(n)),n.nextInstructionTrial=n.nextInstructionTrial.bind(Object(p.a)(n)),n.timerUpdate=n.timerUpdate.bind(Object(p.a)(n)),n.instructionGen=n.instructionGen.bind(Object(p.a)(n)),n.gameData=[],n.csvData="trial,game_length,bandit_force,sd,mu_0,mu_1,";for(var s=0;s<10;s++)n.csvData+="subtrial_".concat(s,"_choice, subtrial_").concat(s,"_rt, subtrial_").concat(s,"_value,");n.csvData=n.csvData.substring(0,n.csvData.length-1),n.csvData+="\n",n.totalPoints=0,n.terminationPoints=4e3,n.state={currentTrial:0,instructionNumber:0,isFullScreen:!1,instructionPoints:0,instructionSubtrial:0,timer:0},n.writeKey=null,n.id=null,n.timer=0,n.instructionVars=[{gameLength:10,machineVars:[{mu:20,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:10,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[0],[1],[1],[1]],trialDescription:"Instruction Trial 1 of 4",addedMetaData:{gameLength:10,forcedBandit:[["main"],["other"],["other"],["other"]],mainBandit:"0",mu:20,sd:8,deltaMu:-10}},{gameLength:5,machineVars:[{mu:60,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:40,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[0],[1],[1],[0]],trialDescription:"Instruction Trial 2 of 4",addedMetaData:{gameLength:5,forcedBandit:[["other"],["main"],["main"],["other"]],mainBandit:"1",mu:40,sd:8,deltaMu:20}},{gameLength:5,machineVars:[{mu:60,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:45,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[1],[1],[0],[1]],trialDescription:"Instruction Trial 3 of 4",addedMetaData:{gameLength:5,forcedBandit:[["main"],["other"],["main"],["other"]],mainBandit:"0",mu:60,sd:8,deltaMu:-15}},{gameLength:10,machineVars:[{mu:70,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:40,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[0],[1],[0],[1]],trialDescription:"Instruction Trial 4 of 4",addedMetaData:{gameLength:10,forcedBandit:[["other"],["main"],["other"],["main"]],mainBandit:"1",mu:40,sd:8,deltaMu:30}}],n.instructions=n.instructionGen();var r=K();return n.game=r,n}return Object(d.a)(i,[{key:"timerUpdate",value:function(){this.timer+=1,this.timer<20&&(setTimeout(this.timerUpdate,2e3),this.setState({timer:this.state.timer+1}))}},{key:"nextInstructionTrial",value:function(t,e){console.log(t),console.log("Next Instruction Trial");var i=t.meta_data;t.meta_data.addedMetaData;console.log(i.deltaMu);var n={trial:i.trial,gameLength:i.gameLength,banditForce:i.force,sd:8,mu0:i.machineVars[0].mu,mu1:i.machineVars[1].mu};console.log(t.trial_data),console.log(Object(u.a)(Array(t.trial_data.length).keys()));for(var s=0,r=Object(u.a)(Array(t.trial_data.length).keys());s<r.length;s++){var a=r[s];n["subtrial_".concat(a,"_choice")]=t.trial_data[a].choice,n["subtrial_".concat(a,"_rt")]=t.trial_data[a].reaction_time,n["subtrial_".concat(a,"_value")]=t.trial_data[a].value}this.gameData.push(n),this.csvData+=E(n),this.sendDataToExius(JSON.stringify(this.gameData),this.csvData);var o=Math.floor(e/(t.trial_data.length-4));this.setState({instructionNumber:this.state.instructionNumber+1,instructionPoints:this.state.instructionPoints+o})}},{key:"nextTrial",value:function(t,e){for(var i=t.meta_data,n={trial:i.trial,gameLength:i.gameLength,banditForce:i.force,sd:8,mu0:i.machineVars[0].mu,mu1:i.machineVars[1].mu},s=0,r=Object(u.a)(Array(t.trial_data.length).keys());s<r.length;s++){var a=r[s];n["subtrial_".concat(a,"_choice")]=t.trial_data[a].choice,n["subtrial_".concat(a,"_rt")]=t.trial_data[a].reaction_time,n["subtrial_".concat(a,"_value")]=t.trial_data[a].value}this.gameData.push(n),this.csvData+=E(n),this.sendDataToExius(JSON.stringify(this.gameData),this.csvData,this.id),this.totalPoints+=Math.floor(e/(t.trial_data.length-4)),console.log("next Trial"),this.totalPoints>this.terminationPoints?this.setState({currentTrial:this.game.length}):this.setState({currentTrial:this.state.currentTrial+1})}},{key:"getWriteKey",value:function(t,e){this.writeKey=t,this.id=e,console.log("write key passed ".concat(this.writeKey))}},{key:"instructionGen",value:function(){return[Object(j.jsx)(B,{getWriteKey:this.getWriteKey,nextInstruction:this.nextInstruction},-1),Object(j.jsx)(_,{docVar:document.documentElement,nextInstruction:this.nextInstruction},0),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"100px",fontSize:"200px",textAlign:"center"},children:"Gambling Task"},"Header 1")],nextInstructionKey:"Space",nextInstruction:this.nextInstruction},1),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"100px",textAlign:"center"},children:"Welcome!"},"Header 21"),Object(j.jsx)("h1",{style:{position:"relative",top:"150px",textAlign:"center"},children:"Thank you for volunteering for this experiment"},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction},2),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"100px",textAlign:"center",margin:"100px"},children:"In this experiment - the gambling task - we would like you to choose between two one-armed bandits (i.e. slot machines) of the sort you might find in a casino."},"Header 4")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction},3),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"The one-armed bandits will be represented like this:"},"Header 5"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},51),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},5)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},52),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},6)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},4),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"Everytime you choose to play a particular bandit, it will be pulled like this..."},"Header 6"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},51),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},52)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:1e3},"lever"+String(this.state.timer)),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},"machine"+String(this.state.timer))]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},5),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"... and the payoff will be shown like this. For example, in this case the left bandit has been played and is paying out 77 points"},"Header 7"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red",delayAnimation:!0,timeDelay:1e3},61),Object(j.jsx)(y,{index:0,valid:!1,values:[77],gameLength:5,machineColor:"red",delayNumberReveal:!0,timeDelay:1e3},62)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},63),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},64)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},6),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"Your goal is to maximize the points you get throughout the task. Try your best to get as many points as you can!"},"Header 8"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},71),Object(j.jsx)(y,{index:1,valid:!1,values:[77],gameLength:5,machineColor:"red"},72)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},73),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},74)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},7),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"During one game, each bandit tends to pay out about the same amount of reward on average, but there is variability in the reward on any given play"},"Header 9"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},81),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},82)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},83),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},84)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},8),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"For example, the average reward for the bandit on the right might be 50 points, but on the first play we might see a reward of 52 points because of the variability..."},"Header 10"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},91),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},92)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:500},93),Object(j.jsx)(y,{index:0,valid:!1,values:[52],gameLength:5,machineColor:"blue",delayNumberReveal:!0,timeDelay:500},94)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},9),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"...on the second play we might get 56 points"},"Header 11"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},101),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},102)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:500},103),Object(j.jsx)(y,{index:1,valid:!1,values:[50,56],gameLength:5,machineColor:"blue",delayNumberReveal:!0,timeDelay:500},104)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},10),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"...if we play a third time on the right, we might get 45 points..."},"Header 12"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},111),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},112)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue",delayAnimation:!0,timeDelay:500},113),Object(j.jsx)(y,{index:2,valid:!1,values:[50,56,45],gameLength:5,machineColor:"blue",delayNumberReveal:!0,timeDelay:500},114)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},110),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"...and so on such that if we were able to play the slot machine on the right 5 times in a row we might see these rewards"},"Header 13"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},121),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},122)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},123),Object(j.jsx)(y,{index:6,valid:!1,values:[50,56,45,39,51,50],gameLength:5,machineColor:"blue"},124)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},120),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"On any trial you can only choose to play one of the two bandits and the number of trials in each game is determined by the height of the bandits."},"Header 14")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction},13),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"For example, when the bandits are 10 boxes high, there are 10 trials in that game..."},"Header 15"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"200px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},121),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:10,machineColor:"red"},122)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"200px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},123),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:10,machineColor:"blue"},124)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},120),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"...when the bandits are 5 boxes high, there are only 5 trials in the game."},"Header 16"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},131),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"red"},132)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},133),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},134)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},130),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"The first four trials in each game are instructed trials. These instructed trials will be indicated by a green square inside the box we want you to open"},"Header 17"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},141),Object(j.jsx)(y,{index:0,valid:!0,values:[],gameLength:5,machineColor:"red"},142)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},143),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},144)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},140),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"You must press the corresponding ARROW KEY to choose this option in order to move on to see the reward and advance to the next trial"},"Header 18")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction},13),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"For example, if you are instructed to choose the left bandit on the first trial, you will see this below. You must use the LEFT ARROW key to choose this option."},"Header 19"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},151),Object(j.jsx)(y,{index:0,valid:!0,values:[],gameLength:5,machineColor:"red"},152)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},153),Object(j.jsx)(y,{index:0,valid:!1,values:[],gameLength:5,machineColor:"blue"},154)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},150),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"If you are instructed to choose the right bandit on the second trial, you will see this:"},"Header 20"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},161),Object(j.jsx)(y,{index:1,valid:!1,values:[77],gameLength:5,machineColor:"red"},162)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},163),Object(j.jsx)(y,{index:1,valid:!0,values:["xx"],gameLength:5,machineColor:"blue"},164)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},160),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"Note that you do not earn any points for the four instructed trials, but you do learn something about how rewarding each bandit is"},"Header 21"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},171),Object(j.jsx)(y,{index:4,valid:!0,values:[77,"xx",65,67],gameLength:5,machineColor:"red"},172)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},173),Object(j.jsx)(y,{index:4,valid:!0,values:["xx",52,"xx","xx"],gameLength:5,machineColor:"blue"},174)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},170),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"Once the instructed trials are complete, you will make free choices between the two bandits for the rest of the game (in this case 1 trial).\n The free choices are indicated by two green squares inside the bandits you are choosing between."},"Header 22"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},181),Object(j.jsx)(y,{index:4,valid:!0,values:[77,"xx",65,67],gameLength:5,machineColor:"red"},182)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},183),Object(j.jsx)(y,{index:4,valid:!0,values:["xx",52,"xx","xx"],gameLength:5,machineColor:"blue"},184)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},180),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"Your goal on the task's free choice trials is to earn the most points you can. The more you choose the bandit with the higher average reward, the more money you will earn in the task."},"Header 23"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},191),Object(j.jsx)(y,{index:4,valid:!0,values:[77,"xx",65,67],gameLength:5,machineColor:"red"},192)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},193),Object(j.jsx)(y,{index:4,valid:!0,values:["xx",52,"xx","xx"],gameLength:5,machineColor:"blue"},194)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},190),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"Let's try a few practice rounds to check your understanding so far."},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction},20),Object(j.jsx)(V,{trial:0,gameLength:10,machineVars:[{mu:60,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:20,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[0],[1],[1],[1]],trialDescription:"Example Trial 1",total_points:0,nextInstruction:this.nextInstruction},"Practice trial 1"),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"In this practice trial, you should have found that the left, red bandit gave out the higher reward on average. Lets try another example."},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction,previousJump:2},21),Object(j.jsx)(V,{trial:0,gameLength:10,machineVars:[{mu:30,sd:8,keyBind:"ArrowLeft",color:"red",description:"Bandit 1"},{mu:90,sd:8,keyBind:"ArrowRight",color:"blue",description:"Bandit 2"}],force:[[1],[0],[1],[0]],trialDescription:"Example Trial 2",total_points:0,nextInstruction:this.nextInstruction},"Practice trial 2"),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"In this practice trial, you should have found that the right, blue bandit gave out the higher reward on average."},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction,previousJump:2},22),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"The points you earn in a single game is equal to the average of all the points you earn through your choices within that game, not including the instructed choices. For example if you played a bandits 5 times with and were shown the following points, you would earn a total of 59 points for that game."},"Header 23"),Object(j.jsxs)("div",{className:"row",style:{justifyContent:"space-evenly",alignItems:"center"},children:[Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + -210px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"red"},23),Object(j.jsx)(y,{index:6,valid:!1,values:["xx",43,31,"xx","xx"],gameLength:5,machineColor:"red"},232)]})}),Object(j.jsx)("div",{className:"column",children:Object(j.jsxs)("div",{className:"row",style:{position:"absolute",top:"300px",left:"calc(50vw + 90px)"},children:[Object(j.jsx)(O,{animate:!1,backgroundColor:"blue"},233),Object(j.jsx)(y,{index:6,valid:!1,values:[50,"xx","xx",48,59],gameLength:5,machineColor:"blue"},234)]})})]})],nextInstructionKey:"Space",nextInstruction:this.nextInstruction,previousInstructionKey:"b",previousInstruction:this.previousInstruction},230),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"It is important to note that you DO NOT need to to wait for the arm pull animation to finish before making your next decision."},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction},30),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"The total points earned across the entire game will be shown in a display box in the right side of your screen, for example if you had a total of 200 points you would see a box that looks like this:"},"Header 21"),Object(j.jsx)("h1",{style:{justifyContent:"center",textAlign:"center",position:"relative",width:"100%",display:"flex",top:"200px"},children:Object(j.jsx)(H,{points:"200",totalPoints:this.terminationPoints,width:"300px",height:"75px",borderColor:"black",description:"Total Money Earned"})})],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction},24),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"Let's try a couple of practice trials of the complete game:"},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction},25),Object(j.jsx)("div",{children:"placeholder for instruction trial"},1),Object(j.jsx)("div",{children:"placeholder for instruction trial"},2),Object(j.jsx)("div",{children:"placeholder for instruction trial"},3),Object(j.jsx)("div",{children:"placeholder for instruction trial"},4),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"The game will go until you have done 80 trials or you have reached 4000$. Since you earn higher points by choosing the more profitable bandit on each trial, if you perform well you will be able to finish faster!"},"Header 21")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction,previousJump:5},29),Object(j.jsx)(k,{divs:[Object(j.jsx)("h1",{style:{position:"relative",top:"50px",textAlign:"center",marginLeft:"50px",marginRight:"50px",height:"100px"},children:"Good luck! To begin the task, press Space. If you wish to review any of the instructions, press b."},"Header 22")],nextInstructionKey:"Space",previousInstructionKey:"b",nextInstruction:this.nextInstruction,previousInstruction:this.previousInstruction},30)]}},{key:"sendDataToExius",value:function(){var t=Object(l.a)(c.a.mark((function t(e,i,n){var s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=Date.now(),t.next=4,F([{endpoint:"HorizonJSON",fname:"Subject_".concat(n,".json"),data:e},{endpoint:"HorizonCSV",fname:"Subject_".concat(n,".csv"),data:i}],"College_Horizon",this.writeKey);case 4:r=Date.now(),console.log(s-r),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),console.log("data send fail");case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e,i,n){return t.apply(this,arguments)}}()},{key:"nextInstruction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setState({instructionNumber:this.state.instructionNumber+t})}},{key:"previousInstruction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setState({instructionNumber:this.state.instructionNumber-t})}},{key:"render",value:function(){if(this.state.instructionNumber<this.instructions.length){this.instructions=this.instructionGen(),7===!this.state.instructionNumber&&(this.timer=0),7===this.state.instructionNumber&&0===this.timer&&this.timerUpdate();return 33<=this.state.instructionNumber&&this.state.instructionNumber<=36?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{position:"absolute",left:"calc(100vw + -325px)"},children:Object(j.jsx)(H,{points:this.state.instructionPoints,width:"300px",height:"75px",borderColor:"black",description:"Total Money Earned",totalPoints:this.terminationPoints})}),Object(j.jsx)(w,Object(a.a)(Object(a.a)({trial:"instruction ".concat(this.state.instructionNumber-33)},this.instructionVars[this.state.instructionNumber-33]),{},{total_points:this.state.instructionPoints,nextTrial:this.nextInstructionTrial,terminationPoints:this.terminationPoints}),"instructionTrial ".concat(this.state.instructionNumber-33))]}):this.instructions[this.state.instructionNumber]}return this.state.currentTrial<this.game.length?Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{position:"absolute",left:"calc(100vw + -325px)"},children:Object(j.jsx)(H,{points:this.totalPoints,width:"300px",height:"75px",borderColor:"black",description:"Total Money Earned",totalPoints:this.terminationPoints})}),Object(j.jsx)(w,Object(a.a)(Object(a.a)({trial:this.state.currentTrial},this.game[this.state.currentTrial]),{},{total_points:this.totalPoints,nextTrial:this.nextTrial,terminationPoints:this.terminationPoints}),"Trial "+String(this.state.currentTrial))]}):Object(j.jsx)(C,{money:this.totalPoints,bonus:"2$",data:this.gameData,id:this.id})}}]),i}(v.a.Component);s.a.render(Object(j.jsx)(W,{}),document.getElementById("root"))},9:function(t,e,i){}},[[24,1,2]]]);
//# sourceMappingURL=main.eef0dc81.chunk.js.map